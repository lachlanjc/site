---
import type { CollectionEntry } from "astro:content";
interface Props {
  project: CollectionEntry<"projects">;
}

const { project } = Astro.props;
import { Image } from "astro:assets";
---

<a
  id={project.slug}
  href={project.data.url}
  class:list={[
    `block relative isolate overflow-hidden outline-offset-4`,
    project.data.feat
      ? "bg-white shadow-card hover:shadow-elevated"
      : "border-dashed border-1 border-(--active-muted)",
    `transition-all hover:-translate-y-1 rounded-edges lg:visible-masonry`,
  ]}
  style={`view-transition-name: ${project.slug}; ${project.data.color ? `outline-color: ${project.data.color};` : ""}`}
  data-featured={project.data.feat}
  hidden={!project.data.feat}
>
  <Image
    src={project.data.cover}
    alt={project.data.coverAlt}
    class="w-full aspect-[2/1]"
    loading={project.data.year === 2024 ? "eager" : "lazy"}
  />
  <div class="p-6">
    <span class="text-sm float-right mt-1 text-(--active-muted)">
      {project.data.year}
    </span>
    <h2
      class={`text-xl inline text-(--active-hue) font-triple font-bold -mt-1`}
    >
      {project.data.name}
    </h2>
    <p class={`text-sm text-(--active-muted) mt-1 text-pretty`}>
      {project.data.desc}
    </p>
  </div>
</a>
